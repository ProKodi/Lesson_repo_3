--
-- Script was generated by Devart dbForge Studio for MySQL, Version 10.0.150.0
-- Product home page: http://www.devart.com/dbforge/mysql/studio
-- Script date 30.09.2025 20:32:48
-- Server version: 8.0.42
--

--
-- Disable foreign keys
--
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;

--
-- Set SQL mode
--
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;

--
-- Set character set the client will use to send SQL statements to the server
--
SET NAMES 'utf8';


DROP DATABASE IF EXISTS resrarunt;


CREATE DATABASE resrarunt;


--
-- Set default database
--
/*USE resrarunt; */

--
-- Drop table `timetable`
--
DROP TABLE IF EXISTS timetable;

--
-- Drop table `order_dish`
--
DROP TABLE IF EXISTS order_dish;

--
-- Drop table `dish`
--
DROP TABLE IF EXISTS dish;

--
-- Drop table `order`
--
DROP TABLE IF EXISTS `order`;

--
-- Drop table `peoples`
--
DROP TABLE IF EXISTS peoples;

--
-- Drop table `restatunts`
--
DROP TABLE IF EXISTS restatunts;

--
-- Drop table `roles`
--
DROP TABLE IF EXISTS roles;

--
-- Drop table `client`
--
DROP TABLE IF EXISTS client;

--
-- Set default database
--
USE resrarunt;

--
-- Create table `client`
--
CREATE TABLE client (
  id bigint UNSIGNED NOT NULL AUTO_INCREMENT,
  email varchar(50) NOT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 5,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci,
COMMENT = 'Клиент',
ROW_FORMAT = DYNAMIC;

--
-- Create table `roles`
--
CREATE TABLE roles (
  id bigint UNSIGNED NOT NULL AUTO_INCREMENT,
  name varchar(50) NOT NULL COMMENT 'Название должности',
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 41,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci,
COMMENT = 'Должности',
ROW_FORMAT = DYNAMIC;

--
-- Create index `name` on table `roles`
--
ALTER TABLE roles
ADD UNIQUE INDEX name (name);

--
-- Create table `restatunts`
--
CREATE TABLE restatunts (
  id bigint UNSIGNED NOT NULL AUTO_INCREMENT,
  adress varchar(255) NOT NULL,
  name varchar(50) NOT NULL,
  id_timetable bigint UNSIGNED DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 11,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci,
COMMENT = 'Рестораны',
ROW_FORMAT = DYNAMIC;

--
-- Create index `name` on table `restatunts`
--
ALTER TABLE restatunts
ADD UNIQUE INDEX name (name);

--
-- Create table `peoples`
--
CREATE TABLE peoples (
  id bigint UNSIGNED NOT NULL AUTO_INCREMENT,
  id_roles bigint UNSIGNED NOT NULL,
  id_restatunts bigint UNSIGNED NOT NULL,
  selary int UNSIGNED DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 5,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci,
COMMENT = 'Сотрудники',
ROW_FORMAT = DYNAMIC;

--
-- Create foreign key
--
ALTER TABLE peoples
ADD CONSTRAINT FK_peoples_id_restatunts FOREIGN KEY (id_restatunts)
REFERENCES restatunts (id);

--
-- Create foreign key
--
ALTER TABLE peoples
ADD CONSTRAINT FK_peoples_id_roles FOREIGN KEY (id_roles)
REFERENCES roles (id);

--
-- Create table `order`
--
CREATE TABLE `order` (
  id bigint UNSIGNED NOT NULL AUTO_INCREMENT,
  id_restatuant bigint UNSIGNED NOT NULL,
  id_client bigint UNSIGNED NOT NULL,
  state tinyint(1) DEFAULT NULL,
  date datetime DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 9,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci,
COMMENT = 'Заказы',
ROW_FORMAT = DYNAMIC;

--
-- Create foreign key
--
ALTER TABLE `order`
ADD CONSTRAINT FK_order_id_client FOREIGN KEY (id_client)
REFERENCES client (id);

--
-- Create foreign key
--
ALTER TABLE `order`
ADD CONSTRAINT FK_order_id_restatuant FOREIGN KEY (id_restatuant)
REFERENCES restatunts (id);

--
-- Create table `dish`
--
CREATE TABLE dish (
  id bigint UNSIGNED NOT NULL AUTO_INCREMENT,
  id_restorant bigint UNSIGNED NOT NULL,
  state_dish tinyint(1) DEFAULT NULL,
  cost int UNSIGNED DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 5,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci,
COMMENT = 'Блюда',
ROW_FORMAT = DYNAMIC;

--
-- Create foreign key
--
ALTER TABLE dish
ADD CONSTRAINT FK_dish_id_restorant FOREIGN KEY (id_restorant)
REFERENCES restatunts (id);

--
-- Create table `order_dish`
--
CREATE TABLE order_dish (
  id_dish bigint UNSIGNED NOT NULL,
  id_order bigint UNSIGNED NOT NULL
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci,
ROW_FORMAT = DYNAMIC;

--
-- Create foreign key
--
ALTER TABLE order_dish
ADD CONSTRAINT FK_order_dish_id_dish FOREIGN KEY (id_dish)
REFERENCES dish (id);

--
-- Create foreign key
--
ALTER TABLE order_dish
ADD CONSTRAINT FK_order_dish_id_order FOREIGN KEY (id_order)
REFERENCES `order` (id);

--
-- Create table `timetable`
--
CREATE TABLE timetable (
  id bigint UNSIGNED NOT NULL AUTO_INCREMENT,
  time_work varchar(255) DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 11,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_0900_ai_ci,
COMMENT = 'График работы',
ROW_FORMAT = DYNAMIC;

-- 
-- Dumping data for table client
--
INSERT INTO client VALUES
(1, 'Почта 1'),
(2, 'Почта 2'),
(3, 'Почта 3'),
(4, 'Почта 4');

-- 
-- Dumping data for table roles
--
INSERT INTO roles VALUES
(31, 'роль 1'),
(40, 'роль 10'),
(32, 'роль 2'),
(33, 'роль 3'),
(34, 'роль 4'),
(35, 'роль 5'),
(36, 'роль 6'),
(37, 'роль 7'),
(38, 'роль 8'),
(39, 'роль 9');

-- 
-- Dumping data for table restatunts
--
INSERT INTO restatunts VALUES
(1, 'адрес 1', 'название 1', 1),
(2, 'адрес 2', 'название 2', 2),
(3, 'адрес 3', 'название 3', 4),
(4, 'адрес 4', 'название 4', 3),
(5, 'адрес 5', 'название 5', 5),
(6, 'адрес 1', 'название 6', 6),
(7, 'адрес 2', 'название 7', 6),
(8, 'адрес 3', 'название 8', 5),
(9, 'адрес 4', 'название 9', 7),
(10, 'адрес 5', 'название 10', 8);

-- 
-- Dumping data for table `order`
--
INSERT INTO `order` VALUES
(5, 1, 1, 1, '2008-02-01 00:00:00'),
(6, 2, 1, 0, '2008-02-09 00:00:00'),
(7, 3, 2, 1, '2008-02-14 00:00:00'),
(8, 6, 3, 0, '2008-01-30 00:00:00');

-- 
-- Dumping data for table dish
--
INSERT INTO dish VALUES
(1, 1, 1, 2000),
(2, 2, 0, 4000),
(3, 3, 1, 5000),
(4, 6, 0, 3000);

-- 
-- Dumping data for table timetable
--
INSERT INTO timetable VALUES
(1, 'Всегда'),
(2, 'Никогда'),
(3, 'Уга буга'),
(4, 'ЫЫЫ'),
(5, 'Куку'),
(6, 'Кика'),
(7, 'кака'),
(8, 'Хуяка'),
(9, 'Хуета'),
(10, 'Курлык курлык');

-- 
-- Dumping data for table peoples
--
INSERT INTO peoples VALUES
(1, 31, 1, 2000),
(2, 40, 2, 4000),
(3, 32, 3, 5000),
(4, 33, 6, 3000);

-- 
-- Dumping data for table order_dish
--
INSERT INTO order_dish VALUES
(1, 5),
(2, 5),
(3, 6),
(4, 7);

--
-- Restore previous SQL mode
--
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;

--
-- Enable foreign keys
--
/*!40014 SET FOREIGN_KEY_CHECKS = @OLD_FOREIGN_KEY_CHECKS */;